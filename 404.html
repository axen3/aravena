<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Redirecting...</title>
    <script>
      // CRITICAL FIX: Switch to localStorage for better persistence across refreshes/redirects.
      // Save the full intended path and search query (e.g., /product/123)
      localStorage.setItem('redirect', location.pathname + location.search);
      
      // Immediately redirect the browser to the root of the site.
      location.replace('/'); // Use JS redirect as an alternative to meta refresh
    </script>
    
    <meta http-equiv="refresh" content="0;URL='/'"> 
  </head>
  <body>
    <p style="font-family: sans-serif; text-align: center; margin-top: 100px;">
      One moment, redirecting to the requested page...
    </p>
  </body>
</html>